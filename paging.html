<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="js/jquery.js"></script>
    <link rel="stylesheet" href="css/paging.css">
    <!-- css파일이랑 jquery포함시킬것 -->
    <style>
        *{ padding:0; margin:0 auto;}
        #book{
            width : 900px;
            height : 600px;
            border : 5px solid black;
            /* background-color: black; */
        }
        .page{border: 5px solid black;}
        .page div{
            background-color: rgba(	255,105,180,0.5);
        }
        .page div img{
            margin: 5%;
            width : 90%;
            height : 40%;
        }
    </style>
    <script>
        $(function(){
            var pageIndex = 0;
            // 현재페이지를 표시할 변수 0부터시작하며 왼쪽페이지기준
            var maxpage = $(".page").length-2;
            // 마지막페이지를 체크할 변수 마지막인덱스는-1이지만 pageIndex가왼쪽페이지를 기준으로하므로 추가로-1
            $("#bookLeft").on("click",function(){
                if(pageIndex == 0){
                    // 맨 앞페이지를 체크할 부분 맨앞이아니면 기능
                    alert("맨앞입니다!!");
                }
                else{
                    // 페이지들을 선택해 변수를 저장
                    var lfPage= $(".page").eq(pageIndex);
                    // 왼쪽페이지
                    var prevPage= $(".page").eq(pageIndex-1);
                    // 동작후 보여질 왼쪽페이지
                    var nextPage= $(".page").eq(pageIndex+1);
                    // 동작후 없앨 오른쪽페이지
                    lfPage.addClass(" paging pagingLeft");
                    // 왼쪽페이지를 오른쪽으로 넘기는 기능
                    prevPage.addClass("pageLeft");
                    // 왼쪽페이지가 넘어가면서 미리 페이지를 보이게함
                    setTimeout(function(){
                        // 애니메이션이 끝나고 동작
                        lfPage.removeClass(" pageLeft paging pagingLeft");
                        // 넘어간 페이지에서 쓸모없는 클래스제거
                        lfPage.addClass(" pageRight");
                        // 넘어갔으므로 오른쪽페이지
                        nextPage.removeClass(" pageRight");
                        // 오른쪽페이지가 덮혀있으므로 지워서 안보이게함
                    },2000);
                    pageIndex--;
                }
            });
            $("#bookRight").on("click",function(){
                // 왼쪽과 오른쪽만 바뀌고 기능은 동일
                if(pageIndex == maxpage){
                    alert("맨마지막입니다!");
                }
                else{
                    var rtPage= $(".page").eq(pageIndex+1);
                    var prevPage= $(".page").eq(pageIndex);
                    var nextPage= $(".page").eq(pageIndex+2);
                    rtPage.addClass(" paging pagingRight");
                    nextPage.addClass("pageRight");
                    setTimeout(function(){
                        rtPage.removeClass(" pageRight paging pagingRight");
                        rtPage.addClass(" pageLeft");
                        prevPage.removeClass(" pageLeft");
                    },2000);
                    pageIndex++;
                }
            });
        });
    </script>
</head>
<body>
<div id="book">
    <div id="bookLeft"></div>
    <div id="bookRight"></div>
    <div class="page pageLeft">
        <div class="front">맨앞(안보임)</div>
        <div class="back">
            <img src="image/dc.jpg" alt="사진">
            설명설명설명
        </div>
    </div>
    <div class="page pageRight">
        <div class="front">
            <img src="image/dc.jpg" alt="사진">
            설명설명설명
        </div>
        <div class="back">
            <img src="image/dc.jpg" alt="사진">
            <img src="image/dc.jpg" alt="사진">
        </div>
    </div>
    <div class="page">
        <div class="front">설명설명설명</div>
        <div class="back">
            <img src="image/dc.jpg" alt="사진" style="height:90%;">
        </div>
    </div>
    <div class="page">
        <div class="front">설명설명설명설명</div>
        <div class="back">42</div>
    </div>
    <div class="page">
        <div class="front">51</div>
        <div class="back">52</div>
    </div>
    <div class="page">
        <div class="front">61</div>
        <div class="back">62</div>
    </div>
    <div class="page">
        <div class="front">71</div>
        <div class="back">72</div>
    </div>
    <div class="page">
        <div class="front">81</div>
        <div class="back">맨뒤(안보임)</div>
    </div>
</div>
</body>
</html>